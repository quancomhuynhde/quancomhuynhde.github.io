<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kh√°m ph√° ngay - Qu√°n C∆°m Huynh ƒê·ªá</title>

  <!-- SEO + Social (th√™m n·∫øu c·∫ßn) -->
  <meta name="description" content="Qu√°n C∆°m Huynh ƒê·ªá ‚Äî C∆°m ngon 25K ‚Ä¢ ƒÇn no n√™ ‚Ä¢ Free th√™m c∆°m + canh + rau. Kh√°m ph√° ngay!" />
  <meta property="og:title" content="Qu√°n C∆°m Huynh ƒê·ªá" />
  <meta property="og:description" content="C∆°m ngon 25K ‚Ä¢ ƒÇn no n√™ ‚Ä¢ Free th√™m c∆°m + canh + rau" />
  <meta property="og:image" content="https://quancomhuynhde.github.io/trangchu/img/thumbnail.jpg" />
  <meta property="og:url" content="https://quancomhuynhde.github.io/trangchu/" />

  <style>
    :root{
      --cta-bg: #ff6600;
      --cta-bg-hover: #e65500;
      --overlay-bg: rgba(0,0,0,0.42);
      --text: #fff;
      --max-width: 1100px;
    }
    *{box-sizing:border-box}
    html,body{
      height:100%;
      margin:0;
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background:#000;
      color:var(--text);
    }

    /* Canvas full screen (Three.js) */
    #three-container{
      position:fixed;
      inset:0;
      z-index:0;
      width:100%;
      height:100%;
      background:#000 center/cover no-repeat;
    }

    /* Fallback background if WebGL unavailable (will be applied by JS) */
    .no-webgl-fallback{
      background: url('https://i.ibb.co/mXvnsqs/earth.gif') center/cover no-repeat;
      filter: brightness(0.65);
    }

    /* Overlay content */
    .overlay {
      position:relative;
      z-index:3;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      text-align:center;
      pointer-events:none; /* allow clicks only on buttons */
    }
    .card {
      pointer-events:auto;
      max-width:var(--max-width);
      width:100%;
      padding:28px;
      border-radius:18px;
      background: linear-gradient(180deg, rgba(0,0,0,0.30), rgba(0,0,0,0.18));
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.45);
      margin: 24px;
    }
    h1{
      margin:0 0 8px;
      font-size: clamp(22px, 4vw, 40px);
      letter-spacing: -0.02em;
    }
    p.lead{
      margin:0 0 18px;
      color: #f1f1f1;
      font-size: clamp(14px, 2.2vw, 18px);
      opacity:0.95;
    }
    .cta-row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:6px;
    }

    .btn {
      display:inline-block;
      padding:12px 22px;
      border-radius:999px;
      text-decoration:none;
      font-weight:700;
      color:#fff;
      background:var(--cta-bg);
      border: 0;
      transform: translateZ(0);
      transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    }
    .btn:hover{ background:var(--cta-bg-hover); transform:translateY(-3px); box-shadow:0 12px 30px rgba(0,0,0,0.45); }
    .btn.secondary{
      background:transparent;
      border:1px solid rgba(255,255,255,0.14);
      color:#fff;
      font-weight:600;
      box-shadow:none;
    }

    /* small credit at bottom */
    .credit {
      text-align:center;
      font-size:12px;
      opacity:0.6;
      margin-top:12px;
    }

    /* responsive spacing */
    @media (max-width:600px){
      .card { padding:18px; border-radius:14px; }
      .cta-row { gap:8px; }
    }

    /* subtle appear animation */
    .card { transform: translateY(10px); opacity:0; animation: appear .9s ease forwards .18s; }
    @keyframes appear {
      to { transform:none; opacity:1; }
    }
  </style>
</head>
<body>
  <!-- Container for Three.js renderer -->
  <div id="three-container" aria-hidden="true"></div>

  <!-- Overlay content -->
  <main class="overlay" role="main">
    <div class="card" role="region" aria-label="Gi·ªõi thi·ªáu Qu√°n C∆°m Huynh ƒê·ªá">
      <h1>üçö Qu√°n C∆°m Huynh ƒê·ªá</h1>
      <p class="lead">C∆°m ngon 25K ‚Ä¢ ƒÇn no n√™ ‚Ä¢ Free th√™m c∆°m + canh + rau. Giao h√†ng nhanh trong khu v·ª±c.</p>
      <div class="cta-row">
        <a class="btn" href="https://quancomhuynhde.github.io/trangchu/" id="openSiteBtn">Kh√°m ph√° ngay</a>
        <a class="btn secondary" href="https://maps.google.com" target="_blank" rel="noopener noreferrer">Xem ch·ªâ ƒë∆∞·ªùng</a>
      </div>
      <div class="credit">Nh·∫•n ‚ÄúKh√°m ph√° ngay‚Äù ƒë·ªÉ v√†o trang ch√≠nh ‚Ä¢ Hi·ªáu ·ª©ng: Tr√°i ƒê·∫•t 3D</div>
    </div>
  </main>

  <!-- Three.js (d√πng unpkg) -->
  <script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>

  <script>
  // ---------- Config ----------
  const TEXTURE_URL = 'https://threejsfundamentals.org/threejs/resources/images/earth-day.jpg';
  const BUMP_URL = 'https://threejsfundamentals.org/threejs/resources/images/earth-normal.jpg'; // optional normal map
  const CONTAINER = document.getElementById('three-container');

  // ---------- WebGL support check ----------
  function webglAvailable() {
    try {
      const canvas = document.createElement('canvas');
      return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));
    } catch (e) { return false; }
  }

  if (!webglAvailable()) {
    // fallback: apply GIF background and skip Three.js
    CONTAINER.classList.add('no-webgl-fallback');
    console.warn('WebGL not available: fallback background applied.');
  } else {
    // ---------- Setup scene ----------
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(40, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.set(0, 0, 14);

    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.outputEncoding = THREE.sRGBEncoding;
    // Append renderer canvas into container
    CONTAINER.appendChild(renderer.domElement);

    // resize handling
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // lighting
    const ambient = new THREE.AmbientLight(0xffffff, 0.55);
    scene.add(ambient);
    const dir = new THREE.DirectionalLight(0xffffff, 0.6);
    dir.position.set(5,3,5);
    scene.add(dir);

    // geometry & material for earth
    const radius = 5;
    const geometry = new THREE.SphereGeometry(radius, 64, 64);

    // load textures
    const loader = new THREE.TextureLoader();
    const texture = loader.load(TEXTURE_URL);
    const normalMap = loader.load(BUMP_URL, undefined, undefined, () => {/*ignore*/});

    const material = new THREE.MeshStandardMaterial({
      map: texture,
      normalMap: normalMap,
      metalness: 0.0,
      roughness: 1.0
    });

    const earth = new THREE.Mesh(geometry, material);
    scene.add(earth);

    // subtle clouds layer (semi-transparent)
    const cloudGeo = new THREE.SphereGeometry(radius + 0.02, 64, 64);
    const cloudMat = new THREE.MeshStandardMaterial({
      color: 0xffffff,
      transparent: true,
      opacity: 0.06,
      depthWrite: false
    });
    const clouds = new THREE.Mesh(cloudGeo, cloudMat);
    scene.add(clouds);

    // stars background (particles)
    function createStars(count = 800) {
      const geo = new THREE.BufferGeometry();
      const positions = new Float32Array(count * 3);
      for (let i=0;i<count;i++){
        const r = 50 + Math.random()*100;
        const theta = Math.random() * Math.PI * 2;
        const phi = Math.acos(2*Math.random()-1);
        positions[i*3] = r * Math.sin(phi)*Math.cos(theta);
        positions[i*3+1] = r * Math.sin(phi)*Math.sin(theta);
        positions[i*3+2] = r * Math.cos(phi);
      }
      geo.setAttribute('position', new THREE.BufferAttribute(positions, 3));
      const mat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.3, sizeAttenuation: true, opacity: 0.9, transparent: true });
      const pts = new THREE.Points(geo, mat);
      scene.add(pts);
    }
    createStars(900);

    // mouse parallax: map mouse to target rotation
    const target = { x: 0, y: 0 };
    const mouse = { x: 0, y: 0 };
    window.addEventListener('mousemove', (e) => {
      mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
      mouse.y = (e.clientY / window.innerHeight) * 2 - 1;
    });

    // touch support
    window.addEventListener('touchmove', (e) => {
      if (e.touches && e.touches[0]) {
        mouse.x = (e.touches[0].clientX / window.innerWidth) * 2 - 1;
        mouse.y = (e.touches[0].clientY / window.innerHeight) * 2 - 1;
      }
    }, { passive: true });

    // gentle animation loop
    let last = 0;
    function animate(t) {
      const delta = (t - last) * 0.001; last = t;

      // slowly rotate earth automatically
      earth.rotation.y += 0.02 * delta * 60 * 0.2; // base spin
      clouds.rotation.y += 0.02 * delta * 60 * 0.25;

      // smooth target based on mouse
      target.x += (mouse.x * 0.25 - target.x) * 0.06;
      target.y += (mouse.y * 0.12 - target.y) * 0.06;

      // apply parallax (tilt + slight orbit)
      earth.rotation.x = target.y * 0.35;
      earth.rotation.z = target.x * 0.08;

      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);

    // optional: pause animation when not visible to save CPU
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) renderer.setAnimationLoop(null);
      else requestAnimationFrame(animate);
    });
  }

  // Accessibility: keyboard shortcuts for CTA
  document.getElementById('openSiteBtn').addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') document.getElementById('openSiteBtn').click();
  });

  // Helpful console note
  console.log('Landing ready ‚Äî Tr√°i ƒê·∫•t 3D. Replace TEXTURE_URL to use local texture for faster loading.');
  </script>
</body>
</html>